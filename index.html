<!DOCTYPE html>
<html>
<head>
	<title>Nuages de Pi</title>
	<link href="stylesheet.css" rel="stylesheet">
	<meta charset="utf-8"/>
	<script type="text/javascript" src="phaser.min.js"></script>
	<script>
   var game = new Phaser.Game(1300, 700, Phaser.CANVAS, 'PIclouds', { preload: preload, create: create, update: update }, false, false);

   var nuages = []; var densityDivider = 4; var velocityDivider = 0.6;
	 var nuages2 = []; var field; var fond; var fond2;
	 var nn = 0; var jj = 0; var sum = 0; var lock = 0;
	 var decimal = -1;
   var pi = [3,1,4,1,5,9,2,6,5,3,5,8,9,7,9,3,2,3,8,4,6,2,6,4,3,3,8,3,2,7,9,5,0,2,8,8,4,1,9,7,1,6,9,3,9,9,3,7,5,1,0,5,8,2,0,9,7,4,9,4,4,5,9,2,3,0,7,8,1,6,4,0,6,2,8,6,2,0,8,9,9,8,6,2,8,0,3,4,8,2,5,3,4,2,1,1,7,0,6,7,9,8,2,1,4,8,0,8,6,5,1,3,2,8,2,3,0,6,6,4,7,0,9,3,8,4,4,6,0,9,5,5,0,5,8,2,2,3,1,7,2,5,3,5,9,4,0,8,1,2,8,4,8,1,1,1,7,4,5,0,2,8,4,1,0,2,7,0,1,9,3,8,5,2,1,1,0,5,5,5,9,6,4,4,6,2,2,9,4,8,9,5,4,9,3,0,3,8,1,9,6,4,4,2,8,8,1,0,9,7,5,6,6,5,9,3,3,4,4,6,1,2,8,4,7,5,6,4,8,2,3,3,7,8,6,7,8,3,1,6,5,2,7,1,2,0,1,9,0,9,1,4,5,6,4,8,5,6,6,9,2,3,4,6,0,3,4,8,6,1,0,4,5,4,3,2,6,6,4,8,2,1,3,3,9,3,6,0,7,2,6,0,2,4,9,1,4,1,2,7,3,7,2,4,5,8,7,0,0,6,6,0,6,3,1,5,5,8,8,1,7,4,8,8,1,5,2,0,9,2,0,9,6,2,8,2,9,2,5,4,0,9,1,7,1,5,3,6,4,3,6,7,8,9,2,5,9,0,3,6,0,0,1,1,3,3,0,5,3,0,5,4,8,8,2,0,4,6,6,5,2,1,3,8,4,1,4,6,9,5,1,9,4,1,5,1,1,6,0,9,4,3,3,0,5,7,2,7,0,3,6,5,7,5,9,5,9,1,9,5,3,0,9,2,1,8,6,1,1,7,3,8,1,9,3,2,6,1,1,7,9,3,1,0,5,1,1,8,5,4,8,0,7,4,4,6,2,3,7,9,9,6,2,7,4,9,5,6,7,3,5,1,8,8,5,7,5,2,7,2,4,8,9,1,2,2,7,9,3,8,1,8,3,0,1,1,9,4,9,1,2,9,8,3,3,6,7,3,3,6,2,4,4,0,6,5,6,6,4,3,0,8,6,0,2,1,3,9,4,9,4,6,3,9,5,2,2,4,7,3,7,1,9,0,7,0,2,1,7,9,8,6,0,9,4,3,7,0,2,7,7,0,5,3,9,2,1,7,1,7,6,2,9,3,1,7,6,7,5,2,3,8,4,6,7,4,8,1,8,4,6,7,6,6,9,4,0,5,1,3,2,0,0,0,5,6,8,1,2,7,1,4,5,2,6,3,5,6,0,8,2,7,7,8,5,7,7,1,3,4,2,7,5,7,7,8,9,6,0,9,1,7,3,6,3,7,1,7,8,7,2,1,4,6,8,4,4,0,9,0,1,2,2,4,9,5,3,4,3,0,1,4,6,5,4,9,5,8,5,3,7,1,0,5,0,7,9,2,2,7,9,6,8,9,2,5,8,9,2,3,5,4,2,0,1,9,9,5,6,1,1,2,1,2,9,0,2,1,9,6,0,8,6,4,0,3,4,4,1,8,1,5,9,8,1,3,6,2,9,7,7,4,7,7,1,3,0,9,9,6,0,5,1,8,7,0,7,2,1,1,3,4,9,9,9,9,9,9,8,3,7,2,9,7,8,0,4,9,9,5,1,0,5,9,7,3,1,7,3,2,8,1,6,0,9,6,3,1,8,5,9,5,0,2,4,4,5,9,4,5,5,3,4,6,9,0,8,3,0,2,6,4,2,5,2,2,3,0,8,2,5,3,3,4,4,6,8,5,0,3,5,2,6,1,9,3,1,1,8,8,1,7,1,0,1,0,0,0,3,1,3,7,8,3,8,7,5,2,8,8,6,5,8,7,5,3,3,2,0,8,3,8,1,4,2,0];
	 function randInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
	 }
	 for (var i = 0; i<10000; i++) {
		pi.push(randInt(0,9));
		console.log(pi[886+i]);
	 }


	 var timer = 0;

   function sleep(milliseconds) {
     var start = new Date().getTime();
     for (var i = 0; i < 1e7; i++) {
       if ((new Date().getTime() - start) > milliseconds){
         break;
        }
      }
    }
   function preload() {
     game.load.image('nuage','nuage.png');
		 game.load.image('nuage2','nuage2.png');
		 game.load.image('field','field.png');
		 game.load.image('fond','fond.png');
		 game.load.image('fond2','fond2.png');
   }
   function create() {
		 game.time.desiredFps = 30;
     game.stage.backgroundColor = "#4488AA";
		 fond = game.add.tileSprite(0, 0, 1300, 400, 'fond');
		 fond2 = game.add.tileSprite(0, 400, 1300, 300, 'fond2');
		 order0 = game.add.group();
		 order1 = game.add.group();
		 order2 = game.add.group();
		 order3 = game.add.group();
		 order4 = game.add.group();
		 order5 = game.add.group();
		 order6 = game.add.group();
		 order7 = game.add.group();
		 order8 = game.add.group();
		 order9 = game.add.group();
		 //fond2.angle = 180;
		 fond2.alpha = 0.9;
		 //field = game.add.tileSprite(0, 465, 1300, 300, 'field');
		 //field.alpha = 0.2;

   }
   function update() {

		 	timer++;

		 	if (timer > (pi[decimal+1])*densityDivider) {

			 decimal++;
			 timer = 0;
			 nuages.push(game.add.tileSprite(-200, 400-(pi[decimal]*34-15)/*+(((pi[decimal]-pi[decimal+pi[decimal]])*pi[decimal]))/2)*/, 768, 312, 'nuage'));
			 nuages[decimal].anchor.x = 0.7;
			 nuages[decimal].anchor.y = 0.5;
			 nuages[decimal].scale.setTo((pi[decimal])/10/*+Math.abs(((pi[decimal]-pi[decimal+1])/9))*/, (pi[decimal])/10);
			 nuages[decimal].alpha = 0.9;
			 //sum += pi[decimal];
			 nuages2.push(game.add.tileSprite(-200, 400+(pi[decimal]*34-15)/*+(((pi[decimal]-pi[decimal+pi[decimal]])*pi[decimal]))/2)*/, 768, 312, 'nuage2'));
			 nuages2[decimal].anchor.x = 0.7;
			 nuages2[decimal].anchor.y = 0.5;
			 nuages2[decimal].scale.setTo((pi[decimal])/10/*+Math.abs(((pi[decimal]-pi[decimal+1])/9))*/, (pi[decimal])/10);
			 nuages[decimal].alpha = 0.99;
			 /*if (pi[decimal] > 4) {
				 nuages2.push(game.add.tileSprite(-100, 500+(-1*(Math.abs((pi[decimal+1]-10))*20+20))+(((pi[decimal]-pi[decimal+pi[decimal]])*Math.abs((pi[decimal+1]-10))))/2), 768, 768, 'nuage'));
				 nuages2[decimal].anchor.x = 0.7;
				 nuages2[decimal].anchor.y = 0.5;
				 nuages2[decimal].scale.setTo((Math.abs((pi[decimal+1]-10)))/10+Math.abs(((pi[decimal]-pi[decimal+1])/9)), (Math.abs((pi[decimal+1]-10)))/10);
				 nuages2[decimal].alpha = 0.99;
			 } else {
				 nuages2.push(false);
			 }*/
			 /*if (sum >= 100 && lock < 11) {
				 densityDivider -= 3;
				 lock++;
				 sum = 0;
			 }else if (sum >= 100 && lock < 22) {
				 densityDivider += 3;
				 lock++;
				 sum = 0;
			 }else if ( lock < 21 ) {
				 lock = 0;
				 sum = 0;
			 }
			 /*if (Math.abs((pi[decimal]-pi[decimal+pi[decimal]])) > 3 || Math.abs(velocityDivider) > 5 ) {
				 velocityDivider -= pi[decimal]/40;
				 densityDivider += pi[decimal]/10;
			 } else if ((Math.abs((pi[decimal]-pi[decimal+pi[decimal]])) && Math.abs(velocityDivider) <= 2) || Math.abs(velocityDivider) <= 0.9) {
				 velocityDivider += pi[decimal]/40;
				 densityDivider -= pi[decimal]/10;
			 }*/
			 switch(pi[decimal]) {
				 case 0:
				 order0.add(nuages[decimal]);
				 order0.add(nuages2[decimal]);
				 	break;
					case 1:
					order1.add(nuages[decimal]);
					order1.add(nuages2[decimal]);
						break;
					 	case 2:
						order2.add(nuages[decimal]);
						order2.add(nuages2[decimal]);
					 		break;
					 		case 3:
							order3.add(nuages[decimal]);
							order3.add(nuages2[decimal]);
								break;
								case 4:
								order4.add(nuages[decimal]);
								order4.add(nuages2[decimal]);
									break;
									case 5:
									order5.add(nuages[decimal]);
									order5.add(nuages2[decimal]);
										break;
										case 6:
										order6.add(nuages[decimal]);
										order6.add(nuages2[decimal]);
											break;
											case 7:
											order7.add(nuages[decimal]);
											order7.add(nuages2[decimal]);
												break;
												case 8:
												order8.add(nuages[decimal]);
												order8.add(nuages2[decimal]);
													break;
													case 9:
													order9.add(nuages[decimal]);
													order9.add(nuages2[decimal]);
														break;
			 }
		 }
			while (jj <= decimal ) {
				if (nuages[jj].x > 1800) {
					nuages[jj].destroy();
				}
				nuages[jj].x += (pi[jj])/Math.abs(velocityDivider);
				nuages2[jj].x += (pi[jj])/Math.abs(velocityDivider);
				//nuages[jj].angle += (1/(pi[jj]))*3;
				jj++;
				//if (nuages[jj].x > 1300) {
				//}
			}
			jj = 0;

			game.world.bringToTop(order0);
			game.world.bringToTop(order1);
			game.world.bringToTop(order2);
			game.world.bringToTop(order3);
			game.world.bringToTop(order4);
			game.world.bringToTop(order5);
			game.world.bringToTop(order6);
			game.world.bringToTop(order7);
			game.world.bringToTop(order8);
			game.world.bringToTop(order9);
			fond2.bringToTop();
   	}



  </script>




</head>
<body style="
background-color: rgb(67,169,223);
">



<div id="game" style="
		cursor: none;
		position: absolute;
		TOP: 0px;
		LEFT: 0px;


		image-rendering: optimizeSpeed;
		image-rendering: -moz-crisp-edges;
		image-rendering: -o-crisp-edges;
		image-rendering: -webkit-optimize-contrast;
		image-rendering: optimize-contrast;
		-ms-interpolation-mode: nearest-neighbor;
		image-rendering : pixelated;">
    </div>
		<div style="
		position: absolute;
		TOP: 710px;
		LEFT: 8px;">
		<p><span style="font-size: 10pt; font-family: verdana, geneva; color: #ffffff;">Fonctionne mieux avec Firefox ou Google Chrome</span></p>
		</div>
<div style="
		position: absolute;
		TOP: 750px;
		LEFT: 8	px;">
		<p><span style="font-size: 20pt; color: #ffffff; font-family: verdana, geneva;"><strong>Les nuages de Pi</strong></span></p>
<p><span style="font-size: 18pt; font-family: verdana, geneva; color: #ffffff;">Cette repr&eacute;sentation des nuages en mouvement n'est pas r&eacute;gie par des param&egrave;tres m&eacute;t&eacute;orologiques complexes.</span></p>
<p><span style="font-size: 18pt; font-family: verdana, geneva; color: #ffffff;">Chaque &eacute;ni&egrave;me d&eacute;cimale de Pi d&eacute;finit sur une &eacute;chelle de 1 &agrave; 10 la proximit&eacute; de L'&eacute;ni&egrave;me nuage par rapport &agrave; l'observateur.</span></p>
<p><span style="font-size: 18pt; font-family: verdana, geneva; color: #ffffff;">Entre l'impr&eacute;visible nature et le d&eacute;terminisme machinal, naviguez sur cette mer de nuages num&eacute;riques au rythme de pi...</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p style="text-align: left;"><span style="color: #ffffff; font-family: verdana, geneva; font-size: 11pt;"><strong><span style="">Pour aller plus loin... :</span></strong></span></p>
<p style="text-align: left;"><span style="color: #ffffff;"><strong><span style="font-family: verdana, geneva; font-size: 11pt;"><span style=""><span style="text-decoration: underline;">Quelques d&eacute;finitions :</span></span></span></strong></span></p>
<p style="text-align: left;"><span style="color: #ffffff; font-family: verdana, geneva; font-size: 11pt;"><span style=""><strong>(une)d&eacute;cimale</strong> : chiffre plac&eacute; &agrave; droite de la virgule. Peut &ecirc;tre pr&eacute;c&eacute;d&eacute; d'un nombre indiquant son rang (=la distance &agrave; la virgule).<br /></span></span></p>
<p style="text-align: left;"><span style="color: #ffffff; font-family: verdana, geneva; font-size: 11pt;"><span style=""><em><span style="text-decoration: underline;"><span>Exemples</span></span> : La premi&egrave;re d&eacute;cimale de&nbsp; 1,7 est 7 ; La 6e d&eacute;cimale de 1,872519 est 9</em></span></span></p>
<p style="text-align: left;"><span style="color: #ffffff;"><strong><span style="font-family: verdana, geneva; font-size: 11pt;"><span style="">Pi </span></span></strong><span style="font-family: verdana, geneva; font-size: 11pt;"><span style="">: Pi est un nombre d&eacute;cimal (ayant une ou plusieurs d&eacute;cimales) dont la valeur exacte est, &agrave; ce jour, inconnue. En effet, il semble que l'on puisse toujours la mesurer avec plus de pr&eacute;cision, sans que jamais l'on puisse atteindre sa derni&egrave;re d&eacute;cimale. </span></span></span></p>
<p style="text-align: left;"><span style="color: #ffffff; font-family: verdana, geneva; font-size: 11pt;"><span style=""><em>Valeur approch&eacute;e de Pi &agrave; la 6e d&eacute;cimale : 3,141592</em><br /></span></span></p>
<p style="text-align: left;"><span style="color: #ffffff;"><strong><span style="font-family: verdana, geneva; font-size: 11pt;"><span style="">Algorithme </span></span></strong><span style="font-family: verdana, geneva; font-size: 11pt;"><span style="">: Suite d'instructions (ici ex&eacute;cut&eacute;e par un ordinateur) et qui prend g&eacute;n&eacute;ralement des valeurs en entr&eacute;e(texte, nombre, choix...) pour donner d'autres valeurs en sortie.<br /></span></span></span></p>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;"><span style="color: #ffffff;"><strong><span style="font-size: 11pt; font-family: verdana, geneva; "><span style="text-decoration: underline;">Principe de fonctionnement de l'algorithme de la simulation:</span></span></strong></span></p>
<p style="text-align: left;"><span style="color: #ffffff;">L'algorithme fait apparaitre les nuages un par un, et compte constamment le nombre de nuage qu'il a d&eacute;j&agrave; fait apparaitre, de mani&egrave;re &agrave; connaitre le rang de chaque nuage. <em>(premier nuage : rang 1, deuxi&egrave;me nuage : rang 2, troisi&egrave;me nuage : rang 3... et ainsi de suite)</em></span></p>
<p style="text-align: left;"><span style="color: #ffffff;">L'algorithme met en relation le nuage de l'&eacute;ni&egrave;me rang avec la d&eacute;cimale de pi de l'&eacute;ni&egrave;me rang. La valeur de cette &eacute;ni&egrave;me d&eacute;cimale d&eacute;finit sur une &eacute;chelle de 0 &agrave; 9 la proximit&eacute; par rapport &agrave; l'observateur du nuage correspondant. <em>(en effet, une d&eacute;cimale a toujours une valeur entre 0 et 9) </em></span></p>
<p style="text-align: left;"><span style="color: #ffffff;">Or, cette simulation n'est pas en 3 dimensions, donc la notion de "distance par rapport &agrave; l'observateur" <em>(plus commun&eacute;ment appel&eacute;e "profondeur")</em> n'est pas exploitable en soit. Il faut donner une illusion de profondeur, de perspective. Pour cela, l'on utilise quatre r&egrave;gles :</span></p>
<ol>
<li style="text-align: left;"><span style="color: #ffffff;">plus le nuage est "lointain", plus il doit apparaitre petit, plus il est "proche" plus il doit apparaitre grand.</span></li>
<li style="text-align: left;"><span style="color: #ffffff;">plus le nuage est "lointain", moins il est rapide, en effet, avec la perspective, son parcours visible &agrave; l'&eacute;cran sera plus long.</span></li>
<li style="text-align: left;"><span style="color: #ffffff;">Il y a 10 seuils de "proximit&eacute;". Plus le seuil est loin de l'observateur, plus il apparait proche du sol &agrave; l'&eacute;cran, de mani&egrave;re &agrave; respecter l'angle de camera de dessous.</span></li>
<li style="text-align: left;"><span style="color: #ffffff;">La distance des seuils au sol se tassent proportionnellement &agrave; leur distance &agrave; l'observateur pour renforcer l'impression de perspective</span></li>
</ol>
<p><span style="color: #ffffff;">Le reflet sur l'eau est en fait un sym&eacute;trique de l'image du dessus, par rapport &agrave; la ligne de perspective. C'est un effet que l'ordinateur peut effectuer assez nativement. La couleur de la partie basse est un d&eacute;grad&eacute; de bleu semi-opaque, et plac&eacute; par dessus l'image en sym&eacute;trique, de mani&egrave;re &agrave; donner l'illusion d'une mer calme.</span></p>
<p><span style="color: #ffffff;">Pour r&eacute;capituler :</span></p>
<table style="border-collapse: collapse; width: 95.9444%; height: 211px;" border="1">
<tbody>
<tr style="height: 18px;">
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">rang du nuage</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">nuage 1</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">nuage 2</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">nuage 3</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">nuage 5</span></td>
</tr>
<tr style="height: 18px;">
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">d&eacute;cimale de Pi</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;1</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;4</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;1</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">9</span></td>
</tr>
<tr style="height: 18px;">
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">distance th&eacute;orique</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;tr&egrave;s proche</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;moyenne</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;tr&egrave;s proche</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;tr&egrave;s lointain</span></td>
</tr>
<tr style="height: 18px;">
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">taille &agrave; l'&eacute;cran</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;tr&egrave;s grande</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;moyenne</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;tr&egrave;s grande</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;tr&egrave;s petite</span></td>
</tr>
<tr style="height: 18px;">
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">vitesse &agrave; l'&eacute;cran</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;tr&egrave;s rapide</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">moyennement rapide</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;tr&egrave;s rapide</span></td>
<td style="width: 14.2857%; height: 18px;"><span style="color: #ffffff;">&nbsp;tr&egrave;s lente</span></td>
</tr>
</tbody>
</table>

<p><span style="color: #ffffff;">Cependant, au bout du 800e nuage, l'algorithme arr&ecirc;te d'utiliser les d&eacute;cimales de pi, et choisit al&eacute;atoirement un chiffre entre 0 et 9 diff&eacute;rent pour chaque nuage de rang sup&eacute;rieur &agrave; 800. Ce choix refl&egrave;te une volonter de mettre en parall&egrave;le Pi et l'al&eacute;atoire math&eacute;matique absolu.</span></p>
<p><span style="color: #ffffff;">En pratique, il semble que la simulation avec Pi et la simulation al&eacute;atoire, soient indiscernables, &agrave; moins de connaitre toutes les d&eacute;cimales de Pi par coeur.</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;">&nbsp;</p>
<p>&nbsp;</p>

		</div>

	</img>
</body>
</html>
